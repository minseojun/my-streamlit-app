### FAILOG 🧊

### <앱 소개>
FAILOG는 실패를 성공으로 바꾸는 플래너&리포트 앱이다. 사용자가 실패를 AI 코치가 분석하여 실행 전략으로 바꾸어준다.
   <br />계획(1회성)과 습관(반복)을 기록하고, 매일 성공/실패를 체크하며 실패 원인을 데이터로 축적한다.
   <br />실패가 쌓이면 대시보드에서 트렌드를 시각화하고, OpenAI 기반 코칭으로 다음 행동을 더 현실적으로 설계할 수 있다.
   <br />날씨 확인 기능, 주간 pdf리포트, 리마인더 기능도 있어 더 확장적으로 활용도 가능하다.
   
   <br />계획을 지키지 못했을 때 단순한 반성에서 나아가 원인을 체계적으로 분석해야 실패를 반복하지 않을 수 있다.
   <br />따라서 실패를 다음 행동을 개선하기 위한 데이터로 전환할 필요성을 느껴 이 앱을 고안하게 되었다.
   <br />계획형(J)이지만 자기관리에 어려움을 겪는 사람들, 계획형이 되고 싶은 사람들을 사용자로 타겟하였다. 



### <주요 기능>
1) Planner
   <br />월간 캘린더 / 주간 뷰로 날짜 선택 
   <br />계획(1회성 Task) 추가
   <br />습관(Habit, 반복 요일 선택) 등록하면 특정 요일마다 자동으로 할 일이 생성됨
   <br />각 할 일에 대해: 성공 / 실패 / 미완료 상태 관리, 또는 항목 삭제 가능
   <br />실패 시 실패 원인(한 문장) 기록

2) 리마인더(알림)
   <br />설정한 시간(HH:MM)과 허용 오차(분) 내에, 오늘 미완료(todo) 항목이 있으면 toast 알림 제공
   <br />쿠키 기반으로 설정값 유지(브라우저 정책에 따라 제한 가능)

3) Weather (Open-Meteo)
   <br />Open-Meteo의 무료 API(키 필요 없음) 사용
   <br />도시를 입력하면 geocoding → 위/경도 획득 → 해당 날짜의 일별 날씨 요약 제공
   <br />표시 on/off 가능, 도시명 저장 가능(쿠키)

4) Failure Report- 대시보드
   <br />a. 이번 주 실패 차트
   <br />주 단위로 실패 데이터를 확인하여, 이번 주 실패 요일 분포 차트 제공
   <br />b. 실패 원인 트렌드 맵
   <br />사용자가 적은 실패 원인은 표현이 제각각이라 그대로 차트에 올리면 지저분해짐
   <br />따라서 OpenAI를 활용해 유사한 원인들을 자동으로 묶어 클러스터링 / 카테고리화 
   <br />실패 카테고리는 최근 12주 실패 원인 기준으로 생성
   <br />생성된 카테고리 맵은 DB에 캐시되며, ‘카테고리 맵 갱신’ 버튼을 눌렀을 때만 다시 생성됨
   <br />카테고리의 세부 정의 또한 확인 가능
   <br />원인 트렌드(주별) 차트: 최근 8주 기준, TOP 6 카테고리만 표시
    <br /> X축: 주 시작일(월요일), Y축: 실제 실패 횟수(count)

5) Failure Report – 주간 분석 / 코칭
   <br />a. 원인 주간 분석
   <br />이번 주 실패 원인을 읽고 공통 원인을 최대 3개 그룹으로 요약
   <br />각 그룹별: 원인 설명, 실패 원인 예시, 추정 발생 빈도 설명
   <br />b. 맞춤형 AI 코칭
   <br />누적 실패 기록과 최근 패턴을 바탕으로 맞춤형 AI 코칭 제공
   <br />바로 실행 가능한 구체적인 행동 조언
   <br />2주 이상 반복되는 실패에 대해서는 다른 접근의 대안 제시
   <br />c. 대화형 챗봇
   <br />대화형 챗봇을 이용해 코칭 내용에 대해 추가적인 질문, 의논 가능
   <br />대화를 통해 더 개인화, 구체화된 코칭 가능

6) Failure Report – PDF 리포트
   <br />선택한 주(월~일)를 기준으로 주간 PDF 리포트 생성
   <br />리포트 구성:
    <br /> 전체 / 성공 / 실패 / 미완료 요약
    <br /> 요일별 실패 분포 차트
    <br /> 실패 원인 TOP 리스트
   <br />  실패 항목 상세 목록
   <br />한글 폰트(NanumGothic) 임베딩으로 PDF 한글 깨짐(□) 문제 방지
   <br />생성 후 파일명 지정하여(기본: failog_week_시작요일날짜.pdf) PDF 다운로드 가능

7) 고정 user_id
   <br />Streamlit의 세션 특성상 새로고침 시 session_state가 초기화될 수 있음
   <br />FAILOG는 URL query parameter(uid) 를 이용해 사용자 식별자를 고정
   <br />→ 새로고침/재접속에도 동일 브라우저에서 동일 uid 유지
   <br />(URL 공유 시 uid가 함께 공유되므로 주의)

8) 민감 데이터 / AI 사용 안내 동의 체크박스
   <br />동의는 쿠키(가능하면) + 세션에 저장
   <br />동의하지 않으면 **OpenAI 기반 기능(카테고리 맵/주간 분석/코칭/챗봇)**은 실행되지 않도록 안전하게 가드
   <br />“사용자가 버튼을 눌렀을 때만 OpenAI 호출” 원칙도 유지




### <사용법>
1) Planner
   <br />왼쪽 Month 캘린더에서 날짜 선택
   <br />오른쪽에서 해당 날짜의 할 일 관리
   <br />계획 추가로 1회성 할 일을 생성
   <br />습관(반복) 관리에서 습관과 반복 요일을 저장
   <br />각 항목을 성공 / 실패 / 삭제로 관리
   <br />실패인 경우 원인을 입력하고 저장
   <br />항목 관리를 하지 않으면 지정한 시간에 toast 알림이 제공됨

2) Failure Report
   <br />상단에서 주 이동(〈 〉)
   <br />대시보드에서 요일 분포 + 카테고리 트렌드 확인
   <br />OpenAI 키를 설정하면: 카테고리 트렌드 생성, 주간 분석/코칭/챗봇 사용 가능
   <br />PDF 리포트 탭에서 주간 PDF 생성 후 다운로드

3) OpenAI, uid 설정
   <br />하단 OpenAI 설정에서 키/모델 입력 후 적용
   <br />서버 배포 시 환경 변수로도 주입 가능하도록 확장 가능 (예: OPENAI_API_KEY)
   <br />“쿠키 저장”을 켜면 같은 브라우저에서 유지 (쿠키 차단 환경에서는 유지되지 않을 수 있음)
   <br />개인별 장기 사용을 위해 URL에 uid 포함: 링크 공유 시 같은 데이터가 보일 수 있어 개인용 사용을 권장



### <기술 스택>
1) Frontend / UI
   <br />Streamlit: 앱 UI/상태 관리
   <br />Altair: 대시보드 차트 (요일 분포, 트렌드)
   <br />(보조) Matplotlib: PDF에 삽입할 차트 이미지 생성

2) Backend / Data
   <br />SQLite: 로컬 DB 저장
   <br />  habits: 습관(반복 설정)
   <br />  tasks: 할 일(계획/습관 기반), 상태(success/fail/todo), 실패 원인
    <br /> category_maps: 실패 원인 카테고리 맵 캐시(LLM 결과)

3) AI
   <br />OpenAI API:
     <br />실패 원인 텍스트 클러스터링/카테고리화
     <br />주간 분석
     <br />맞춤형 코칭
     <br />챗봇 대화

4) External API
   <br />Open-Meteo:
     <br />geocoding API (도시 → 위/경도)
     <br />forecast/archive API (일별 날씨)

5) Document
   <br />ReportLab:
     <br />Weekly PDF Report 생성
     <br />NanumGothic 폰트 임베딩(한글 깨짐 방지)









